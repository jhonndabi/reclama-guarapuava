<ui:composition template="./WEB-INF/templates/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:p="http://primefaces.org/ui"
>

    <ui:define name="content">
        <header id="home-page-header">
            <img id="image-header" src="resources/images/gp.jpg" />

            <div id="box-action">
                <h:button value="Acessar o Sistema" outcome="#{loginBean.redireciona()}" />
            </div>

            <div id="box-text-header" class="center-align">
                <p>Ajude a construir uma Guarapuava melhor</p>
                <p>Entre e nos conte o problema que você identificou</p>
            </div>
        </header>
        
        <p:messages></p:messages>

        <article id="index-content" class="container">
            <header class="center-align">
                <h1>Publique, veja, avalie, compartilhe e opine</h1>
                <span>para juntos fazermos uma cidade melhor</span>
            </header>

            <div class="row">
                <div class="col s12">
                    <div class="event-card grey lighten-1">
                        <div class="container card-body">
                            <div class="row">
                                <div class="col s2 card-icon">
                                    <i class="fa fa-th-large" aria-hidden="true" />
                                </div>
                                <div class="col s8 card-text center-align">
                                    <p>TODAS OCORRÊNCIAS</p>
                                </div>
                                <div class="col s2 card-action">
                                    <div class="box center-align">
                                        <span>#{occurrenceBean.findAll().size()}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <ui:repeat value="#{categoryBean.findAll()}" var="category">
                    
                    <div class="col s12 m6">
                        <div class="event-card green darken-1">
                            <div class="container card-body">
                                <div class="row">
                                    <div class="col s6 card-text center">
                                        <p>#{category.name}</p>
                                    </div>
                                    <div class="col push-s4 s2 card-action">
                                        <div class="box center-align">
                                            <span>#{category.occurrences.size()}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </ui:repeat>
            </div>
        </article>
    </ui:define>
</ui:composition>