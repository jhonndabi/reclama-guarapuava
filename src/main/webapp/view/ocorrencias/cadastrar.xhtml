<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns = "http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                template="/WEB-INF/templates/templatenomt.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                >

    <ui:define name="content">
        <p:messages></p:messages>

        <h:form>
            <h2 style="text-align: center">Nos conte o problema</h2>
            <p style="text-align: center">Quanto mais informações mais rapido o problema será resolvido</p>

            <h:panelGrid id = "panel" columns = "1" border = "0" columnClasses="col1, col2"  cellpadding = "25" cellspacing = "0"  style="width: 500px; padding-left: 400px">

                <p:outputLabel for="cat" value="Categoria " style="width: 500px" />
                <p:selectOneMenu id="cat" value="#{categoryBean.categoryList}" style="width: 500px" >
                    <f:selectItem itemLabel="Categoria" itemValue="" />
                    <f:selectItems var="occ"  value="#{categoryBean.findAll()}"  itemValue="#{occ.id}" itemLabel="#{occ.name}" />
                </p:selectOneMenu>
            </h:panelGrid>

            <!--  depois que os problemas ja estiverem sido cadastrados devidamente apenas descomentar aqui e trocar occurrenceBean pelo respecitivo bean
               fazer ajustes no itemLabel tambem -->
            <!--
            <p:outputLabel for="prb" value="Informe o problema " style="width: 500px" />
            <p:selectOneMenu id="prb" value="#{occurrenceBean.occurrenceList}"  style="width: 500px" >
                <f:selectItem itemLabel="Select One" itemValue="" />
                <f:selectItems value="#{occurrenceBean.findAll()}" itemValue="#{occ.id}" itemLabel="#{occ.name}" />
            </p:selectOneMenu>

        </h:panelGrid>
            -->
            <h:panelGrid id = "panel2" columns = "2" border = "0" columnClasses="col1, col2"  cellpadding = "25" cellspacing = "0"  style="width: 600px; padding-left: 400px">
                <p:outputLabel for="end" value="Informe o endereco da ocorrência" style="width: 300px" />

                <p:outputLabel  value="Bairro " style="width: 100px" />
                <p:inputText id="end" value="#{occurrenceBean.occurrence.address}" required="true" style="width: 300px"  />

                <p:selectOneMenu  style="width: 200px" id="neighborhood-occurrence">
                    <f:selectItem itemValue="" itemLabel="Selecione um Bairro"/>
                    <f:selectItems var="neighborhood" value="#{neighborhoodBean.findAll()}" itemValue="#{neighborhood.id}" itemLabel="#{neighborhood.name}"/>
                </p:selectOneMenu>

            </h:panelGrid>

            <h:panelGrid id = "panel3" columns = "1" border = "0" columnClasses="col1, col2"  cellpadding = "25" cellspacing = "0"  style="width: 500px; padding-left: 400px">


                <p:outputLabel for="descprob" value="Descreva o problema " style="width: 600px" />
                <p:inputTextarea id ="descprob" rows="7" cols="60" value="#{occurrenceBean.occurrence.description}" queryDelay="750" minQueryLength="4" />
                <!-- falta adicionar foto da ocorrencia...
                <p:outputLabel for="foto" value="Envie uma foto do problema " style="width: 600px" />
                <p:inputText id="foto" required="true" style="width: 300px"  />
                <p:commandButton value="Publicar" id="nonAjax" actionListener="#{buttonView.buttonAction}" ajax="false" />
                -->




                <p:commandButton value="Publicar" id="nonAjax" actionListener="#{occurrenceBean.persist()}" ajax="false" />
            </h:panelGrid>

        </h:form>

    </ui:define>

</ui:composition>

